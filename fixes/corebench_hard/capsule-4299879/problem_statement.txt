Environment constraints:

CRITICAL ISSUES:
1. Missing data files: R scripts expect '../../data/motivation.Rdata' and '../../data/mk_extract.Rdata'
2. Missing output directory: '../../results' does not exist (ggsave() fails)
3. cmake is not found (blocking R package builds)
4. Conda TOS blocks installation - use conda-forge exclusively
5. Missing R packages: dplyr, ggplot2, sf, upstartr, estimatr, xtable, readxl

INSTRUCTIONS:
- Do NOT use `apt-get` (blocked).
- Use conda (env `base`) with conda-forge channel.
- Ensure `Rscript --version` works before running scripts.

DIRECTORY SETUP (CRITICAL):
The R scripts use relative paths from `code/` directory. Before running:
1. Create results directory: `mkdir -p ./results`
2. Create symlinks if scripts reference parent directories:
   ```
   mkdir -p ../results ../data
   ln -sf "$(pwd)/data" ../data 2>/dev/null || true
   ln -sf "$(pwd)/results" ../results 2>/dev/null || true
   ```
3. Set R_LIBS_USER: `export R_LIBS_USER=./.R/library && mkdir -p ./.R/library`

DATA FILES:
If data files (motivation.Rdata, mk_extract.Rdata) are in `data/` subdirectory:
- Run scripts from the root workspace, NOT from `code/` subdirectory
- Or create appropriate symlinks so that `../../data/` resolves correctly

UPSTARTR PACKAGE:
The 'upstartr' package may not be available via conda. If needed:
```R
install.packages("upstartr", repos="https://cloud.r-project.org")
```

EXECUTION:
After setup, run the R scripts as specified by the task. Write all outputs to `./results`.
