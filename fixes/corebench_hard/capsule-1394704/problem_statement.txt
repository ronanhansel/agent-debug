Environment prerequisites and filesystem constraints:

1) R must be available.
- Do not use `apt-get`.
- Use conda (env `hal`) to provide `R`/`Rscript`.
  - `conda activate hal`
  - `conda install -y -c conda-forge r-base`

2) Do not write to `../results` (parent directory is not writable).
- Write outputs into a writable directory under the workspace, e.g. `./results`.
- If the code refers to `../results`, replace it with `./results` or a value from an env var like `HAL_OUTPUT_DIR`.

After these are in place, render `modular.Rmd` using `Rscript` from the conda environment.
