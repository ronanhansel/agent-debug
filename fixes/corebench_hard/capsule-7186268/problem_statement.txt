IMPORTANT ENVIRONMENT INSTRUCTIONS:

1. Conda installations are BLOCKED by Terms of Service:
   - CondaToSNonInteractiveError for https://repo.anaconda.com/pkgs/main
   - CondaToSNonInteractiveError for https://repo.anaconda.com/pkgs/r
   DO NOT attempt conda install commands - they will fail.

2. Python 'open' function is FORBIDDEN:
   - InterpreterError when using open() for file creation
   - DO NOT use open() to write files in Python code
   - Use bash commands or approved file editing tools instead

3. Missing R packages:
   - data.table, ggplot2, zoo may not be installed
   - 'lab' package required for Rmd rendering may be missing
   - Cannot install via conda due to ToS restrictions

4. Alternative approaches:

   a) For file writing:
      - Use bash: echo "content" > filename
      - Use bash: cat << 'EOF' > filename
      - Use approved file editing tools (edit_file, write_file)
      - DO NOT use Python open()

   b) For R package installation:
      - Check what's installed: Rscript -e "installed.packages()[,'Package']"
      - Use CRAN if allowed: Rscript -e "install.packages('pkg', repos='https://cloud.r-project.org')"
      - May still fail due to system library dependencies

   c) For Rmd rendering:
      Rscript -e "rmarkdown::render('file.Rmd', output_dir='../results')"

   d) Create output directories:
      mkdir -p ../results
      mkdir -p .R/library

5. Writable directories:
   - Use ../results for output files (HAL_OUTPUT_DIR)
   - Use .R/library or /tmp/R_libs for R packages
   - Ensure directories exist before writing

6. Environment:
   conda activate hal
   mkdir -p ../results .R/library
   # Do NOT run conda install

7. R library configuration:
   export R_LIBS_USER=".R/library"
   # Or use /tmp/R_libs

8. Output directory: HAL_OUTPUT_DIR (../results).

Original task: Render Rmd file and produce required outputs.
