ENVIRONMENT SETUP (Pre-configured):
- R packages are pre-installed via conda (tidyverse, dplyr, ggplot2, rmarkdown, knitr, lme4, etc.)
- Bioconductor packages (GSVA) are available
- Use: conda activate agent
- R library path: ./.R/library

---
1. The 'network_diffusion' package CANNOT be installed:
   - pip install fails with ModuleNotFoundError for 'networkx'
   - Build isolation prevents proper dependency resolution

2. The 'networkx' package may also be unavailable:
   - Required as a dependency for network_diffusion
   - Check if pre-installed: python -c "import networkx; print(networkx.__version__)"

3. matplotlib import is BLOCKED:
   - Sandbox restrictions prevent importing matplotlib
   - DO NOT use matplotlib for visualization
   - Skip figure rendering or use text-based output

4. Alternative approaches:

   a) Check what packages are already installed:
      pip list | grep -i network
      pip list | grep -i matplotlib
      python -c "import networkx" 2>&1

   b) If network_diffusion is required but unavailable:
      - Report as environmental limitation
      - The epidemic simulation cannot be completed
      - Explain what the analysis would compute

   c) For visualization without matplotlib:
      - Use text/tabular output instead of plots
      - Print numerical results directly
      - Skip any plt.show() or plt.savefig() calls

   d) If epidemic.py imports matplotlib:
      - The script will fail at import
      - Consider extracting non-visualization logic only

5. Environment:
   conda activate hal

6. If the task requires network_diffusion:
   - Report that external dependency installation is blocked
   - Provide explanation of what the simulation would produce

7. Output directory: HAL_OUTPUT_DIR (../results).

Original task: Run epidemic simulation using network_diffusion.
